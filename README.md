# CA
## Зачем это надо?

Без нормальной структуры невозможно эффективно поддерживать работу системы (тестировать и устранять баги) и расширять функциональность.

## Общие мысли

Любой бэкенд решает какие-то задачи бизнеса. Бизнес при этом не разговаривает на "программном" языке, а в целом ограничивается конкретной предметной терминологией. ПО - всего лишь один из инструментов решения задачи.

Это перекладывается на архитектуру: требуется перенести релевантную часть предметной области и бизнес-процессов в программный вид. Эту часть системы принято выделять в так называемое ядро (предметная область + бизнес-логика). Ключевая идея в том, что ядро должно быть реализовано без зависимостей от конкретных инфраструктурных решений: баз данных, внешних API, фреймворков, сетевых протоколов и т.п. И для его тестирования также ничего не нужно: при тестировании проверяется выполнение бизнес-правил, а им не важны детали технической реализации.

Хорошо, получается ядро - это отображение предметной области и бизнес-процессов решаемой задачи в код. А как взаимодействовать с внешним миром? Сохранять и извлекать данные, передавать их другим сервисам? В конце концов управлять выполнением (вызывать) код ядра? За это отвечает инфраструктура.

К инфраструктуре относятся технологии и компоненты, которые обеспечивают техническую реализацию и выполнение бизнес-процессов. Если с точки зрения бизнеса, например, система должна хранить и предоставлять по запросу информацию о пользователе, то в инфраструктуре будут задействованы конкретные технологии для этих целей: например СУБД PostgreSQL для хранения и REST-API на FastAPI. Бизнес говорит <b><i>что</b></i> нужно делать, а инфраструктура определяет <b><i>как</b></i> это будет сделано.


Итого:
> Ядро является отражением предметной области и бизнес-процессов

> Ядро должно быть изолировано (на уровне зависимостей) от остальных компонентов системы

> Компоненты ядра описывают абстрактные шаги к решению задачи (но не говорят какие именно технологии применять!)

> К инфраструктуре относятся все те средства, технологии и компоненты, за счет которых шаги решения задачи становятся конкретными.
